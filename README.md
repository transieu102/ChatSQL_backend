# Objective:
This backend includes an API and a database for a chatbot application that allows users to upload data and query information from it.

## Run API:
```bash
pip install -r requirements.txt
uvicorn app.main:app
```

## Main Features Provided by the API:

### User:
- Register/Login
- Update API Key (OPENAI_API_KEY)

### Data:
- Upload/Delete databases (currently supports only CSV files, automatically converted to SQLite DB)
- Add descriptions or auto-generate descriptions for databases
- Get a list of databases by user ID

### Conversation:
- Create/Delete conversations
- Get a list of conversations

### Message:
- Get a list of messages in a conversation
- Receive and process user requests (generate SQL queries, execute them, and create responses)
- Respond to user requests via websocket

## Note:
To create a generalized and adaptable chatbot for many users, I have avoided adding overly specific data processing steps. These steps can be pre-processed before uploading to the system.

## Challenges:

### Ensuring SQL Query Accuracy:
- A primary challenge is ensuring the accuracy of the generated SQL queries.
- One approach is to present the generated query for user confirmation.
- Academically, research often involves techniques to improve the persistence and accuracy of queries generated by LLMs (Large Language Models).
- Due to time constraints, the system simplifies by limiting the number of failed query attempts. If a query fails, it retries until a limit is reached, then responds with "unknown."

### Reducing the Intention Gap:
- Another challenge is reducing the gap between user queries and system actions.
- For instance, translating "How many companies are in the energy sector?" into an accurate SQL query can be complex.
- SQL queries might filter by "Energy," but energy companies include various types like electricity and oil, which are hard to cover comprehensively in SQL.
- This intention gap is significant when using SQL.
- One approach to reduce this gap is using a Vector Database, which returns related results based on relevance thresholds. However, vector databases are better for search systems and not ideal for precise statistical answers.

## If More Time Was Available:
- Optimize prompts to standardize responses from LLMs
- Add algorithms to ensure the accuracy of SQL queries
- Combine SQL and Vector Databases to reduce the intention gap



